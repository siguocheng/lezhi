<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>联系我们</title>
		<script src="../js/vue.js"></script>
		<link rel="stylesheet" href="../css/main.css" />
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<!-- 引入组件库 -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<style type="text/css">
			.input {
				display: inline-block;
			}
		</style>
	</head>
	<body>
		<div id="contact">
			<div style="float:left;width:20%">
				<h5>菜单</h5>
				<el-menu default-active="3" class="el-menu-vertical-demo">
					<el-menu-item index="1">
						<i class="el-icon-menu"></i>
						<span slot="title"><a href="index.html">主页</a></span>
					</el-menu-item>
					<el-menu-item index="2">
						<i class="el-icon-menu"></i>
						<span slot="title"><a href="product.html">产品</a></span>
					</el-menu-item>
					<el-menu-item index="3">
						<i class="el-icon-menu"></i>
						<span slot="title"><a href="contact.html">联系我们</a></span>
					</el-menu-item>
				</el-menu>
			</div>
			<div style="float:left;">
				<div >
					联系人：
					<div class="input">
						<el-input v-model="name" placeholder="请输入内容"></el-input>
					</div>
				</div>
				<div>
					电话：
					<div class="input">
						<el-input v-model="phoneNumber" placeholder="请输入内容"></el-input>
					</div>
				</div>
				<div>
					地址：
					<div class="input">
						<el-input v-model="address" placeholder="请输入内容"></el-input>
					</div>
					
				</div>
				<div>
					邮箱：
					<div class="input">
						<el-input v-model="mail" placeholder="请输入内容"></el-input>
					</div>
				</div>
				<el-button type="primary" v-on:click="save()" >保存</el-button>
			</div>
			
			
			<!-- <el-button type="primary" v-on:click="cancel()">取消</el-button> -->
		</div>
		<script>
			var vm = new Vue({
				el: "#contact",
				data: {
					name: "",
					phoneNumber: "",
					address: "",
					mail: "",
				},
				mounted(){
					this.getContact();
				},
				methods:{
					getContact:function(){
						axios.post("/lezhi/contact/getContact", {
							id: this.id
						}).then((response) => {
							if (response.data.data != null){
								var data = response.data.data;
								this.name = data.name;
								this.mail = data.mail;
								this.phoneNumber = data.phoneNumber;
								this.address = data.address;
							}
						
						}).catch((response) => {
							console.log("错误" + response)
						});
					},
					save:function(){
						axios.post("/lezhi/contact/updateContact", {
							name: this.name,
							phoneNumber: this.phoneNumber,
							address: this.address,
							mail: this.mail,
						}).then((response) => {
							if (response.data.data != null){
								this.$message("更新成功");
							} else {
								this.$message("更新失败");
							}
						
						}).catch((response) => {
							this.$message("更新失败");
							console.log("错误" + response)
						});
					}
				}
				
			});
		</script>
	</body>
</html>
