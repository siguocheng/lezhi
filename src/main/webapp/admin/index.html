<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="../css/main.css">
		<script src="../js/vue.js"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<!-- 引入组件库 -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	</head>
	<body>
		<div id="homepage">
			<el-upload
			  class="upload-demo"
			  action="/lezhi/upload/uploadProjectPicture"
			  :on-preview="handlePreview"
			  :on-remove="handleRemove"
			  :on-success="uploadSuccess"
			  :multiple="true"
			  :file-list="fileList"
			  
			  list-type="picture">
			  <el-button size="small" type="primary">点击上传</el-button>
			  <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>
			</el-upload>
		</div>
		<script>
			var app = new Vue({
				el: '#homepage',
				data:{
					fileList: [],
					urls:[]
					},
					methods:{
						handleRemove(file, fileList) {
							this.fileList = fileList;
						},
						handlePreview(file) {
						  console.log(file);
						},
						uploadSuccess(response, file, fileList){
							var urlObject;
							url.uid= file.uid;
							url.url = response.data.url;
							this.urls.push(url);
							
							this.fileList = fileList;
							console.log(this.urls);
							console.log(this.fileList);
						}
					}
				});
		 
		</script>
	</body>
</html>
